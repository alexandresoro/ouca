input SearchDonneeCriteria {
  id: Int
  observateurs: [Int!]
  temperature: Int
  meteos: [Int!]
  associes: [Int!]
  heure: String
  duree: String
  classes: [Int!]
  especes: [Int!]
  departements: [Int!]
  communes: [Int!]
  lieuxdits: [Int!]
  nombre: Int
  estimationsNombre: [Int!]
  sexes: [Int!]
  ages: [Int!]
  distance: Int
  estimationsDistance: [Int!]
  regroupement: Int
  fromDate: String
  toDate: String
  commentaire: String
  nicheurs: [Nicheur!]
  comportements: [Int!]
  milieux: [Int!]
}

enum Nicheur {
  possible
  probable
  certain
}

enum CoordinatesSystemType {
  gps
  lambert93
}

type Comportement {
  id: Int!
  code: String!
  libelle: String!
  nicheur: Nicheur
  editable: Boolean
  nbDonnees: Int
}

type Departement {
  id: Int!
  code: String!
  editable: Boolean
  nbCommunes: Int
  nbLieuxDits: Int
  nbDonnees: Int
}

type Observateur {
  id: Int!
  libelle: String!
  editable: Boolean
  nbDonnees: Int
}

type Classe {
  id: Int!
  libelle: String!
  editable: Boolean
  nbEspeces: Int
  nbDonnees: Int
}

type Commune {
  id: Int!
  code: Int!
  nom: String!
  departement: Departement!
  editable: Boolean
  nbLieuxDits: Int
  nbDonnees: Int
}

type Espece {
  id: Int!
  code: String!
  nomFrancais: String!
  nomLatin: String!
  classe: Classe!
  editable: Boolean
  nbDonnees: Int
}

type EstimationDistance {
  id: Int!
  libelle: String!
  editable: Boolean
  nbDonnees: Int
}

type EstimationNombre {
  id: Int!
  libelle: String!
  nonCompte: Boolean!
  editable: Boolean
  nbDonnees: Int
}

type Meteo {
  id: Int!
  libelle: String!
  editable: Boolean
  nbDonnees: Int
}

type LieuDit {
  id: Int!
  nom: String!
  altitude: Int!
  longitude: Float!
  latitude: Float!
  coordinatesSystem: CoordinatesSystemType!
  commune: Commune!
  editable: Boolean
  nbDonnees: Int
}

type Milieu {
  id: Int!
  code: String!
  libelle: String!
  editable: Boolean
  nbDonnees: Int
}

type Sexe {
  id: Int!
  libelle: String!
  editable: Boolean
  nbDonnees: Int
}

type Age {
  id: Int!
  libelle: String!
  editable: Boolean
  nbDonnees: Int
}

type Coordinates {
  altitude: Int!
  longitude: Float!
  latitude: Float!
  system: CoordinatesSystemType!
}

type Inventaire {
  id: Int!
  observateur: Observateur!
  associes: [Observateur!]!
  date: String!
  heure: String
  duree: String
  lieuDit: LieuDit!
  customizedCoordinates: Coordinates
  temperature: Int
  meteos: [Meteo!]!
}

type Donnee {
  id: Int!
  inventaire: Inventaire!
  espece: Espece!
  sexe: Sexe!
  age: Age!
  estimationNombre: EstimationNombre!
  nombre: Int
  estimationDistance: EstimationDistance
  distance: Int
  regroupement: Int
  comportements: [Comportement!]!
  milieux: [Milieu!]!
  commentaire: String
}

#
# Args
#
input SearchParams {
  q: String
  pageNumber: Int
  pageSize: Int
}

input SearchDonneeParams {
  pageNumber: Int
  pageSize: Int
}

input FindParams {
  q: String
  max: Int
}

enum SortOrder {
  asc
  desc
}

enum EntitesAvecLibelleOrderBy {
  id
  libelle
  nbDonnees
}

enum CommunesOrderBy {
  id
  code
  nom
  departement
  nbLieuxDits
  nbDonnees
}

enum ComportementsOrderBy {
  id
  code
  libelle
  nbDonnees
  nicheur
}

enum DepartementsOrderBy {
  id
  code
  nbCommunes
  nbLieuxDits
  nbDonnees
}

enum EstimationNombreOrderBy {
  id
  libelle
  nonCompte
  nbDonnees
}

enum EspecesOrderBy {
  id
  code
  nomFrancais
  nomLatin
  nomClasse
  nbDonnees
}

enum LieuxDitsOrderBy {
  id
  nom
  altitude
  longitude
  latitude
  codeCommune
  nomCommune
  departement
  nbDonnees
}

enum MilieuxOrderBy {
  id
  code
  libelle
  nbDonnees
}

enum SearchDonneesOrderBy {
  id
  codeEspece
  nomFrancais
  nombre
  sexe
  age
  departement
  codeCommune
  nomCommune
  lieuDit
  date
  heure
  duree
  observateur
}

#
# Results
#

interface PaginatedResult {
  count: Int!
}

type CommunesPaginatedResult implements PaginatedResult {
  data: [Commune!]
  count: Int!
}

type ComportementsPaginatedResult implements PaginatedResult {
  data: [Comportement!]
  count: Int!
}

type DepartementsPaginatedResult implements PaginatedResult {
  data: [Departement!]
  count: Int!
}

type EspecesPaginatedResult implements PaginatedResult {
  data: [Espece!]
  count: Int!
}

type EstimationsNombrePaginatedResult implements PaginatedResult {
  data: [EstimationNombre!]
  count: Int!
}

type LieuxDitsPaginatedResult implements PaginatedResult {
  data: [LieuDit!]
  count: Int!
}

type MilieuxPaginatedResult implements PaginatedResult {
  data: [Milieu!]
  count: Int!
}

type PaginatedSearchDonneesResult implements PaginatedResult {
  result(
    searchCriteria: SearchDonneeCriteria
    searchParams: SearchDonneeParams
    orderBy: SearchDonneesOrderBy
    sortOrder: SortOrder
  ): [Donnee]
  count(searchCriteria: SearchDonneeCriteria): Int!
}

type Query {
  communes(searchParams: SearchParams, departmentId: Int, orderBy: CommunesOrderBy, sortOrder: SortOrder): CommunesPaginatedResult
  comportements(
    searchParams: SearchParams
    orderBy: ComportementsOrderBy
    sortOrder: SortOrder
  ): ComportementsPaginatedResult
  departements(
    searchParams: SearchParams
    orderBy: DepartementsOrderBy
    sortOrder: SortOrder
  ): DepartementsPaginatedResult
  especes(
    searchParams: SearchParams
    searchCriteria: SearchDonneeCriteria
    orderBy: EspecesOrderBy
    sortOrder: SortOrder
  ): EspecesPaginatedResult
  estimationsNombre(
    searchParams: SearchParams
    orderBy: EstimationNombreOrderBy
    sortOrder: SortOrder
  ): EstimationsNombrePaginatedResult
  lieuxDits(searchParams: SearchParams, townId: Int, orderBy: LieuxDitsOrderBy, sortOrder: SortOrder): LieuxDitsPaginatedResult
  milieux(searchParams: SearchParams, orderBy: MilieuxOrderBy, sortOrder: SortOrder): MilieuxPaginatedResult
  searchDonnees: PaginatedSearchDonneesResult
}
